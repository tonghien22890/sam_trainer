# Model Build Structure Guide

This guide maps files to their respective solutions for easier maintenance.

## Unbeatable Sequence Model (Báo Sâm)

- Core implementation:
  - `scripts/unbeatable/unbeatable_sequence_model.py`
- Training & evaluation:
  - `scripts/unbeatable/train_unbeatable_model.py`
  - `scripts/unbeatable/test_unbeatable_model.py`
  - `scripts/unbeatable/demo_unbeatable_model.py`
  - `scripts/unbeatable/quick_test.py`
- Data (synthetic/training):
  - `data/phase1_validation_data.jsonl`
  - `data/phase2_pattern_data.jsonl`
  - `data/phase3_threshold_data.jsonl`
  - Generated by: `scripts/unbeatable/synthetic_data_generator.py` (also writes `data/validation_training_data.jsonl`, `data/pattern_training_data.jsonl`, `data/threshold_training_data.jsonl`)
- Requirements:
  - `requirements.txt`
- Docs:
  - `docs/UNBEATABLE_SEQUENCE_MODEL_DESIGN.mdc`
- Utilities:
  - `scripts/unbeatable/synthetic_data_generator.py` (generates training data)
- Logs/Artifacts:
  - `logs/*.json`
  - `unbeatable_model.log`

## Optimized General Gameplay Model V3 (Per-Candidate)

- Core implementation:
  - `scripts/general/optimized_general_model_v3.py`
- Training:
  - `scripts/general/train_optimized_model_v3.py`
- Data:
  - `data/sam_improved_training_data.jsonl`
- Model artifact:
  - `models/optimized_general_model_v3.pkl`
- Docs:
  - `docs/OPTIMIZED_GENERAL_MODEL_SOLUTION.md`
  - `docs/stage1.mdc`

## Deprecated (Legacy)


## Two-Layer Solution

- Layer 1: `scripts/two_layer/framework_generator.py` — builds framework (core_combos, strength, alt sequences) from hand using `SequenceEvaluator`.
- Layer 2: `scripts/two_layer/style_learner.py` — per-candidate scoring with 51-dim features (27 original + 9 framework + 15 multi-sequence).
- Training: `scripts/two_layer/train_style_learner.py` — prepares data (adds framework) and trains `StyleLearner`.
- Note: Hand variations are DISABLED by default to avoid label drift; re-enable only after recomputing `legal_moves`/`action` for variation hands.

- All legacy Hybrid Conservative files are under `deprecated/`.


